# ========================================
# ENV VARS
# ========================================
# Public environment variables (visible in GitHub UI)
# These will be deployed as environment-specific variables

# REQUIRED – canonical origin (used for Auth.js + revalidation webhook)
NEXT_PUBLIC_SITE_URL=
# REQUIRED – absolute URL to /api/auth for NextAuth callbacks
NEXTAUTH_URL=
# OPTIONAL – set to enable custom domain + HTTPS in CDK deploys
APP_DOMAIN_NAME=
# OPTIONAL – Route53 hosted zone the domain belongs to
APP_HOSTED_ZONE_DOMAIN=
# OPTIONAL – comma-separated list of alternate domain names (www, etc.)
APP_ALTERNATE_DOMAINS=
# OPTIONAL – provide an existing ACM cert ARN (otherwise CDK issues one)
APP_CERTIFICATE_ARN=
# OPTIONAL – configure at least one OAuth provider (Google or GitHub)
GOOGLE_CLIENT_ID=
# OPTIONAL – configure at least one OAuth provider (Google or GitHub)
GH_CLIENT_ID=
# OPTIONAL – used when pre-deploy Playwright tests should hit a remote stack
E2E_API_BASE_URL=
# OPTIONAL – explicit AWS Secrets Manager ids (auto-derived when omitted)
SECRETS_MANAGER_ENV_SECRET_ID=
SECRETS_MANAGER_REPO_SECRET_ID=
# REQUIRED locally; auto-populated by CDK in deployed environments
POSTS_TABLE=
# REQUIRED locally; auto-populated by CDK in deployed environments
ADMIN_TABLE_NAME=
# REQUIRED locally; auto-populated by CDK in deployed environments
CONTENT_BUCKET=
# REQUIRED locally; auto-populated by CDK in deployed environments
MEDIA_BUCKET=
# REQUIRED – dedicated bucket for chat transcript exports (no CONTENT_BUCKET fallback)
CHAT_EXPORT_BUCKET=
CHAT_EXPORT_PREFIX=chat/exports
CHAT_EXPORT_RETENTION_DAYS=7
# OPTIONAL – only needed if you plan to enable scheduled publishes locally
BLOG_PUBLISH_FUNCTION_ARN=
# OPTIONAL – only needed if you plan to enable scheduled publishes locally
SCHEDULER_ROLE_ARN=
# OPTIONAL – set to 'true' when you want blog APIs to use mock fixtures
BLOG_TEST_FIXTURES=
# OPTIONAL – set to 'true' when you want GitHub/project APIs to use mock fixtures
PORTFOLIO_TEST_FIXTURES=
# OPTIONAL – allow fixture runtime even when NODE_ENV=production (bootstrap only)
ALLOW_TEST_FIXTURES_IN_PROD=
# OPTIONAL – set to 'true' to enforce chat rate limits locally (bypassed by default)
ENABLE_DEV_RATE_LIMIT=
# OPTIONAL – enable publishing per-call OpenAI cost metrics to CloudWatch
OPENAI_COST_METRICS_ENABLED=
# OPTIONAL – CloudWatch namespace/metric name for cost publishing
OPENAI_COST_METRIC_NAMESPACE=PortfolioChat/OpenAI
OPENAI_COST_METRIC_NAME=EstimatedCost
# OPTIONAL – email for OpenAI cost alarm notifications
OPENAI_COST_ALERT_EMAIL=
# OPTIONAL – select chat preprocess tasks (comma-separated) when running scripts
CHAT_PREPROCESS_TASKS=
CHAT_PREPROCESS_TASK=

# ========================================
# ENV SECRETS
# ========================================
# Private environment secrets (encrypted in GitHub)
# These will be deployed as environment-specific secrets

# OPTIONAL – required only if Google OAuth is enabled
GOOGLE_CLIENT_SECRET=
# OPTIONAL – required only if GitHub OAuth is enabled
GH_CLIENT_SECRET=


# ========================================
# REPO VARS
# ========================================
# Public repository-wide variables (accessible in all environments)
# These will be deployed as repository variables

# REQUIRED – comma-separated list of admin emails with elevated UI access
ADMIN_EMAILS=volpestyle@gmail.com   
# REQUIRED – default AWS region (us-east-1 for Lambda@Edge)
AWS_REGION=us-east-1
# OPTIONAL – ARN of the AWS IAM role GitHub OIDC should assume
CDK_DEPLOY_ROLE_ARN=
# DEPRECATED – legacy portfolio data gist (kept for backward compatibility)
PORTFOLIO_GIST_ID=
# Optional – used by API integration tests to target a specific repo/doc
E2E_API_REPO_OWNER=
E2E_API_REPO_NAME=
E2E_API_DOC_PATH=
# Optional – controls post-deploy smoke-test targets (falls back to APP_DOMAIN_NAME)
API_INTEGRATION_BASE_URL=
# OPTIONAL – repo/doc metadata for post-deploy smoke tests
API_INTEGRATION_REPO_OWNER=
API_INTEGRATION_REPO_NAME=
API_INTEGRATION_DOC_PATH=
# OPTIONAL – override if using a different DynamoDB GSI name
POSTS_STATUS_INDEX=byStatusPublishedAt
# OPTIONAL – allowlist of app names for /api/apps/token (comma-separated)
APP_JWT_ALLOWED_APPS=yt-channel-expert
# OPTIONAL – CORS allowlist for /api/apps/token (comma-separated)
APP_JWT_ALLOWED_ORIGINS=https://yt-channel-expert.jcvolpe.me,http://localhost:5173
# OPTIONAL – JWT issuer override for app tokens
APP_JWT_ISSUER=
# OPTIONAL – JWT audience override for app tokens
APP_JWT_AUDIENCE=yt-channel-expert.jcvolpe.me
# OPTIONAL – token TTL in seconds
APP_JWT_TTL_SECONDS=600
# OPTIONAL – JWT signing algorithm (defaults to RS256)
APP_JWT_ALG=RS256
# OPTIONAL – key id to expose in JWKS
APP_JWT_KEY_ID=

# ========================================
# REPO SECRETS
# ========================================
# Private repository-wide secrets (encrypted in GitHub)
# These will be deployed as repository secrets

# REQUIRED – GitHub PAT used for scripts and build-time repo queries
GH_TOKEN=
# REQUIRED when chat caching uses Upstash Redis
UPSTASH_REDIS_REST_URL=
# REQUIRED when chat caching uses Upstash Redis
UPSTASH_REDIS_REST_TOKEN=
# REQUIRED if OpenAI-backed chat is enabled
OPENAI_API_KEY=
# OPTIONAL – vector database connection for chat embeddings/tests
CHAT_VECTOR_DB_URL=
CHAT_VECTOR_DB_API_KEY=
# OPTIONAL – chat debug logging level (0 off, 1 readable, 2 verbose/raw, 3 redacted-safe: keeps text, strips secret-shaped fields)
CHAT_DEBUG_LOG=0
# OPTIONAL – cap chat debug log buffer size when CHAT_DEBUG_LOG=1
CHAT_DEBUG_LOG_LIMIT=500
# REQUIRED – Auth.js signing key (JWT sessions)
NEXTAUTH_SECRET=
# REQUIRED – RSA private key for app tokens (PKCS8 PEM)
APP_JWT_PRIVATE_KEY=
# REQUIRED – RSA public key for app tokens (SPKI PEM)
APP_JWT_PUBLIC_KEY=
# REQUIRED – shared secret for /api/revalidate + scheduler Lambda
REVALIDATE_SECRET=
# OPTIONAL – origin validation secret for chat requests (defaults to REVALIDATE_SECRET)
CHAT_ORIGIN_SECRET=
